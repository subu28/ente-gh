(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1003],{25568:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/change-email",function(){return r(31078)}])},31078:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return er}});var n=r(52903),l=r(17973),o=r(11200),a=r(92660),i=r(50918),s=r(89449),c=r(42898),u=r(16950),d=r(77754),p=r(95770),h=r(47290),Z=r(10005),m=r(31461),v=r(7896),f=r(2784),E=r(40489),g=r(76224),x=r(47591),A=r(65992),C=r(43853),R=r(7342),S=r(17377),_=r(47645),I=r(6970);function M(e){return(0,I.ZP)("MuiAlert",e)}let O=(0,_.Z)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var b=r(85801),y=r(6620),w=r(52322),T=(0,y.Z)((0,w.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),L=(0,y.Z)((0,w.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),N=(0,y.Z)((0,w.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),P=(0,y.Z)((0,w.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),j=(0,y.Z)((0,w.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");let z=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],$=e=>{let{variant:t,color:r,severity:n,classes:l}=e,o={root:["root",`${t}${(0,R.Z)(r||n)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return(0,g.Z)(o,M,l)},k=(0,A.ZP)(S.Z,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${(0,R.Z)(r.color||r.severity)}`]]}})(({theme:e,ownerState:t})=>{let r="light"===e.palette.mode?x._j:x.$n,n="light"===e.palette.mode?x.$n:x._j,l=t.color||t.severity;return(0,v.Z)({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},l&&"standard"===t.variant&&{color:e.vars?e.vars.palette.Alert[`${l}Color`]:r(e.palette[l].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${l}StandardBg`]:n(e.palette[l].light,.9),[`& .${O.icon}`]:e.vars?{color:e.vars.palette.Alert[`${l}IconColor`]}:{color:e.palette[l].main}},l&&"outlined"===t.variant&&{color:e.vars?e.vars.palette.Alert[`${l}Color`]:r(e.palette[l].light,.6),border:`1px solid ${(e.vars||e).palette[l].light}`,[`& .${O.icon}`]:e.vars?{color:e.vars.palette.Alert[`${l}IconColor`]}:{color:e.palette[l].main}},l&&"filled"===t.variant&&(0,v.Z)({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${l}FilledColor`],backgroundColor:e.vars.palette.Alert[`${l}FilledBg`]}:{backgroundColor:"dark"===e.palette.mode?e.palette[l].dark:e.palette[l].main,color:e.palette.getContrastText(e.palette[l].main)}))}),B=(0,A.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),W=(0,A.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),D=(0,A.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),H={success:(0,w.jsx)(T,{fontSize:"inherit"}),warning:(0,w.jsx)(L,{fontSize:"inherit"}),error:(0,w.jsx)(N,{fontSize:"inherit"}),info:(0,w.jsx)(P,{fontSize:"inherit"})},U=f.forwardRef(function(e,t){var r,n,l,o,a,i;let s=(0,C.Z)({props:e,name:"MuiAlert"}),{action:c,children:u,className:d,closeText:p="Close",color:h,components:Z={},componentsProps:f={},icon:g,iconMapping:x=H,onClose:A,role:R="alert",severity:S="success",slotProps:_={},slots:I={},variant:M="standard"}=s,O=(0,m.Z)(s,z),y=(0,v.Z)({},s,{color:h,severity:S,variant:M}),T=$(y),L=null!=(r=null!=(n=I.closeButton)?n:Z.CloseButton)?r:b.Z,N=null!=(l=null!=(o=I.closeIcon)?o:Z.CloseIcon)?l:j,P=null!=(a=_.closeButton)?a:f.closeButton,U=null!=(i=_.closeIcon)?i:f.closeIcon;return(0,w.jsxs)(k,(0,v.Z)({role:R,elevation:0,ownerState:y,className:(0,E.Z)(T.root,d),ref:t},O,{children:[!1!==g?(0,w.jsx)(B,{ownerState:y,className:T.icon,children:g||x[S]||H[S]}):null,(0,w.jsx)(W,{ownerState:y,className:T.message,children:u}),null!=c?(0,w.jsx)(D,{ownerState:y,className:T.action,children:c}):null,null==c&&A?(0,w.jsx)(D,{ownerState:y,className:T.action,children:(0,w.jsx)(L,(0,v.Z)({size:"small","aria-label":p,title:p,color:"inherit",onClick:A},P,{children:(0,w.jsx)(N,(0,v.Z)({fontSize:"small"},U))}))}):null]}))});var F=r(24862),V=r(51464),Y=r(63602),G=r(24991),X=r(5632),q=r(98614),K=r(48601),Q=r(66569),J=e=>{let{appContext:t}=e,{appName:r}=t,l=(0,X.useRouter)();return(0,f.useEffect)(()=>{let e=(0,Z.Yu)(Z.Pd.USER);(null==e?void 0:e.token)||l.push(i.q.ROOT)},[]),(0,n.tZ)(s.wx,{children:(0,n.BX)(c.Z,{children:[(0,n.tZ)(d.Z,{children:(0,G.t)("CHANGE_EMAIL")}),(0,n.tZ)(ee,{appName:r})]})})};let ee=e=>{let{appName:t}=e,[r,i]=(0,f.useState)(!1),[c,d]=(0,f.useState)(!1),[m,v]=(0,f.useState)(null),[E,g]=(0,f.useState)(!1),[x,A]=(0,f.useState)(!1),C=(0,X.useRouter)(),R=async(e,t)=>{let{email:r}=e,{setFieldError:n}=t;try{i(!0),await (0,a.Fn)(r),v(r),d(!0),g(!0)}catch(e){n("email",(0,G.t)("EMAIl_ALREADY_OWNED"))}i(!1)},S=async(e,t)=>{let{email:r,ott:n}=e,{setFieldError:s}=t;try{i(!0),await (0,a.Uk)(r,(0,l.z)(n)),(0,Z.a_)(Z.Pd.USER,{...(0,Z.Yu)(Z.Pd.USER),email:r}),i(!1),A(!0),await (0,o.D)(1e3),_()}catch(e){i(!1),s("ott",(0,G.t)("INCORRECT_CODE"))}},_=()=>C.push((0,Q.P)(t));return(0,n.tZ)(Y.J9,{initialValues:{email:""},validationSchema:c?K.Ry().shape({email:K.Z_().email((0,G.t)("EMAIL_ERROR")).required((0,G.t)("REQUIRED")),ott:K.Z_().required((0,G.t)("REQUIRED"))}):K.Ry().shape({email:K.Z_().email((0,G.t)("EMAIL_ERROR")).required((0,G.t)("REQUIRED"))}),validateOnChange:!1,validateOnBlur:!1,onSubmit:c?S:R,children:e=>{let{values:t,errors:l,handleChange:o,handleSubmit:a}=e;return(0,n.BX)(n.HY,{children:[E&&(0,n.tZ)(U,{color:"success",onClose:()=>g(!1),children:(0,n.tZ)(q.cC,{i18nKey:"EMAIL_SENT",components:{a:(0,n.tZ)(F.Z,{color:"text.muted",component:"span"})},values:{email:m}})}),(0,n.tZ)("form",{noValidate:!0,onSubmit:a,children:(0,n.BX)(s.wx,{children:[(0,n.tZ)(V.Z,{fullWidth:!0,InputProps:{readOnly:c},type:"email",label:(0,G.t)("ENTER_EMAIL"),value:t.email,onChange:o("email"),error:!!l.email,helperText:l.email,autoFocus:!0,disabled:r}),c&&(0,n.tZ)(V.Z,{fullWidth:!0,type:"text",label:(0,G.t)("ENTER_OTT"),value:t.ott,onChange:o("ott"),error:!!l.ott,helperText:l.ott,disabled:r}),(0,n.tZ)(h.Z,{success:x,sx:{mt:2},loading:r,buttonText:c?(0,G.t)("VERIFY"):(0,G.t)("SEND_OTT")})]})}),(0,n.BX)(u.Z,{style:{justifyContent:c?"space-between":"normal"},children:[c&&(0,n.BX)(p.Z,{onClick:()=>d(!1),children:[(0,G.t)("CHANGE_EMAIL"),"?"]}),(0,n.tZ)(p.Z,{onClick:_,children:(0,G.t)("GO_BACK")})]})]})}})};var et=r(77024),er=()=>(0,n.tZ)(J,{appContext:(0,et.useAppContext)()})},50918:function(e,t,r){"use strict";var n,l;r.d(t,{q:function(){return n}}),(l=n||(n={})).ROOT="/",l.CHANGE_EMAIL="/change-email",l.CHANGE_PASSWORD="/change-password",l.CREDENTIALS="/credentials",l.GENERATE="/generate",l.LOGIN="/login",l.RECOVER="/recover",l.SIGNUP="/signup",l.TWO_FACTOR_SETUP="/two-factor/setup",l.TWO_FACTOR_VERIFY="/two-factor/verify",l.TWO_FACTOR_RECOVER="/two-factor/recover",l.VERIFY="/verify",l.SHARED_ALBUMS="/shared-albums"},66569:function(e,t,r){"use strict";r.d(t,{P:function(){return l}});var n=r(65342);let l=e=>{switch(e){case"accounts":return n.gp.PASSKEYS;case"auth":return n.bW.AUTH;case"photos":return n.Wu.GALLERY}}},16950:function(e,t,r){"use strict";var n=r(52903),l=r(89449),o=r(56961);r(2784),t.Z=e=>{let{sx:t,style:r,...a}=e;return(0,n.BX)(n.HY,{children:[(0,n.tZ)(o.Z,{}),(0,n.tZ)(l.wx,{style:{flexDirection:"row",...r},sx:{mt:3,...t},...a,children:a.children})]})}},77754:function(e,t,r){"use strict";var n=r(52903),l=r(62197);r(2784),t.Z=e=>{let{sx:t,...r}=e;return(0,n.tZ)(l.Z,{variant:"h2",sx:{mb:8,...t},...r,children:r.children})}},42898:function(e,t,r){"use strict";var n=r(65992),l=r(17377);let o=(0,n.ZP)(l.Z)(e=>{let{theme:t}=e;return{padding:t.spacing(4,2),maxWidth:"360px",width:"100%",textAlign:"left"}});t.Z=o},95770:function(e,t,r){"use strict";var n=r(52903),l=r(23119);r(2784),t.Z=e=>{let{children:t,sx:r,color:o,...a}=e;return(0,n.tZ)(l.Z,{component:"button",sx:{color:"text.base",textDecoration:"underline rgba(255, 255, 255, 0.4)",paddingBottom:.5,"&:hover":{color:"".concat(o,".main"),textDecoration:"underline ",textDecorationColor:"".concat(o,".main")},...r},...a,children:t})}},47290:function(e,t,r){"use strict";var n=r(52903),l=r(711),o=r(8204),a=r(72841);r(2784),t.Z=e=>{let{loading:t,buttonText:r,disabled:i,success:s,sx:c,...u}=e;return(0,n.tZ)(o.Z,{size:"large",variant:"contained",color:"accent",type:"submit",disabled:i||t||s,sx:{my:4,...t?{"&.Mui-disabled":{backgroundColor:e=>e.colors.accent.A500,color:e=>e.colors.text.base}}:{},...c},...u,children:t?(0,n.tZ)(a.Z,{size:20}):s?(0,n.tZ)(l.Z,{sx:{fontSize:20}}):r})}}},function(e){e.O(0,[3602,4100,2888,9774,179],function(){return e(e.s=25568)}),_N_E=e.O()}]);