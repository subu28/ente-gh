!function(){var t,e,a,r,n,c,i={24514:function(t,e,a){"use strict";let r={PROCESSING_FAILED:"processing failed"};var n=a(39925),c=a.n(n);async function i(t,e,a){await c().ready;let r=c().crypto_secretstream_xchacha20poly1305_init_pull(e,await F(a));return c().crypto_secretstream_xchacha20poly1305_pull(r,t,null).message}async function y(t,e,a){await c().ready;let n=c().crypto_secretstream_xchacha20poly1305_init_pull(e,await F(a)),i=4194304+c().crypto_secretstream_xchacha20poly1305_ABYTES,y=0,o=[],s=c().crypto_secretstream_xchacha20poly1305_TAG_MESSAGE;for(;s!==c().crypto_secretstream_xchacha20poly1305_TAG_FINAL;){let e=i;y+e>t.length&&(e=t.length-y);let a=t.slice(y,y+e),u=c().crypto_secretstream_xchacha20poly1305_pull(n,a);if(!u.message)throw Error(r.PROCESSING_FAILED);for(let t=0;t<u.message.length;t++)o.push(u.message[t]);s=u.tag,y+=e}return Uint8Array.from(o)}async function o(t,e){return await c().ready,{pullState:c().crypto_secretstream_xchacha20poly1305_init_pull(t,e),decryptionChunkSize:4194304+c().crypto_secretstream_xchacha20poly1305_ABYTES,tag:c().crypto_secretstream_xchacha20poly1305_TAG_MESSAGE}}async function s(t,e){await c().ready;let a=c().crypto_secretstream_xchacha20poly1305_pull(e,t);if(!a.message)throw Error(r.PROCESSING_FAILED);let n=a.tag;return{decryptedData:a.message,newTag:n}}async function u(t,e){await c().ready;let a=await F(e),r=c().crypto_secretstream_xchacha20poly1305_init_push(a),[n,i]=[r.state,r.header],y=c().crypto_secretstream_xchacha20poly1305_push(n,t,null,c().crypto_secretstream_xchacha20poly1305_TAG_FINAL);return{key:await G(a),file:{encryptedData:y,decryptionHeader:await G(i)}}}async function _(t){await c().ready;let e=c().crypto_secretstream_xchacha20poly1305_keygen(),a=c().crypto_secretstream_xchacha20poly1305_init_push(e),[r,n]=[a.state,a.header],i=0,y=c().crypto_secretstream_xchacha20poly1305_TAG_MESSAGE,o=[];for(;y!==c().crypto_secretstream_xchacha20poly1305_TAG_FINAL;){let e=4194304;i+4194304>=t.length&&(e=t.length-i,y=c().crypto_secretstream_xchacha20poly1305_TAG_FINAL);let a=t.slice(i,i+e);i+=e;let n=c().crypto_secretstream_xchacha20poly1305_push(r,a,null,y);for(let t=0;t<n.length;t++)o.push(n[t])}return{key:await G(e),file:{encryptedData:new Uint8Array(o),decryptionHeader:await G(n)}}}async function p(){await c().ready;let t=c().crypto_secretstream_xchacha20poly1305_keygen(),e=c().crypto_secretstream_xchacha20poly1305_init_push(t),[a,r]=[e.state,e.header];return{key:await G(t),decryptionHeader:await G(r),pushState:a}}async function l(t,e,a){await c().ready;let r=a?c().crypto_secretstream_xchacha20poly1305_TAG_FINAL:c().crypto_secretstream_xchacha20poly1305_TAG_MESSAGE;return c().crypto_secretstream_xchacha20poly1305_push(e,t,null,r)}async function h(t,e){await c().ready;let a=await x(await F(t),await F(e));return{encryptedData:await G(a.encryptedData),key:await G(a.key),nonce:await G(a.nonce)}}async function f(t){await c().ready;let e=c().crypto_secretbox_keygen();return await h(t,await G(e))}async function w(t,e){let a=await G(await D(t));return await h(a,e)}async function d(t,e,a){await c().ready;let r=await E(await F(t),await F(e),await F(a));return await G(r)}async function m(t,e,a){await c().ready;let r=await E(await F(t),await F(e),await F(a));return c().to_string(r)}async function x(t,e){await c().ready;let a=c().randombytes_buf(c().crypto_secretbox_NONCEBYTES);return{encryptedData:c().crypto_secretbox_easy(t,a,e),key:e,nonce:a}}async function E(t,e,a){return await c().ready,c().crypto_secretbox_open_easy(t,e,a)}async function T(){return await c().ready,c().crypto_generichash_init(null,c().crypto_generichash_BYTES_MAX)}async function g(t,e){await c().ready,c().crypto_generichash_update(t,e)}async function S(t){return await c().ready,G(c().crypto_generichash_final(t,c().crypto_generichash_BYTES_MAX))}async function b(t,e,a,r){return await c().ready,await G(c().crypto_pwhash(c().crypto_secretbox_KEYBYTES,await D(t),await F(e),a,r,c().crypto_pwhash_ALG_ARGON2ID13))}async function I(t,e){await c().ready;let a=c().crypto_pwhash_MEMLIMIT_MIN,r=c().crypto_pwhash_OPSLIMIT_SENSITIVE,n=c().crypto_pwhash_MEMLIMIT_SENSITIVE;for(;n>a;)try{return{key:await b(t,e,r,n),opsLimit:r,memLimit:n}}catch(t){r*=2,n/=2}throw Error("Failed to derive key: Memory limit exceeded")}async function A(t,e){return await c().ready,{key:await G(c().crypto_pwhash(c().crypto_secretbox_KEYBYTES,await D(t),await F(e),c().crypto_pwhash_OPSLIMIT_INTERACTIVE,c().crypto_pwhash_MEMLIMIT_INTERACTIVE,c().crypto_pwhash_ALG_ARGON2ID13)),opsLimit:c().crypto_pwhash_OPSLIMIT_INTERACTIVE,memLimit:c().crypto_pwhash_MEMLIMIT_INTERACTIVE}}async function k(){return await c().ready,await G(c().crypto_kdf_keygen())}async function v(){return await c().ready,await G(c().randombytes_buf(c().crypto_pwhash_SALTBYTES))}let N=async()=>{await c().ready;let t=c().crypto_box_keypair();return{publicKey:await G(t.publicKey),privateKey:await G(t.privateKey)}};async function L(t,e,a){return await c().ready,await G(c().crypto_box_seal_open(await F(t),await F(e),await F(a)))}async function M(t,e){return await c().ready,await G(c().crypto_box_seal(await F(t),await F(e)))}async function O(t,e,a,r){return await c().ready,await G(c().crypto_kdf_derive_from_key(e,a,r,await F(t)))}async function F(t){return await c().ready,c().from_base64(t,c().base64_variants.ORIGINAL)}async function G(t){return await c().ready,c().to_base64(t,c().base64_variants.ORIGINAL)}let C=async t=>(await c().ready,c().to_base64(t,c().base64_variants.URLSAFE));async function D(t){return await c().ready,c().from_string(t)}async function R(t){return await c().ready,c().to_string(await F(t))}async function B(t){return await c().ready,c().to_hex(await F(t))}async function K(t){return await c().ready,await G(c().from_hex(t))}var P=a(90758);let j=new TextDecoder,U=new TextEncoder;class Y{async decryptMetadata(t,e,a){let r=await i(await F(t),await F(e),a);return JSON.parse(j.decode(r))}async decryptThumbnail(t,e,a){return i(t,e,a)}async decryptEmbedding(t,e,a){let r=await i(await F(t),await F(e),a);return Float32Array.from(JSON.parse(j.decode(r)))}async decryptFile(t,e,a){return y(t,e,a)}async encryptMetadata(t,e){let a=U.encode(JSON.stringify(t)),{file:r}=await u(a,e),{encryptedData:n,...c}=r;return{file:{encryptedData:await G(n),...c},key:e}}async encryptThumbnail(t,e){return u(t,e)}async encryptEmbedding(t,e){let a=U.encode(JSON.stringify(Array.from(t))),{file:r}=await u(a,e),{encryptedData:n,...c}=r;return{file:{encryptedData:await G(n),...c},key:e}}async encryptFile(t){return _(t)}async encryptFileChunk(t,e,a){return l(t,e,a)}async initChunkEncryption(){return p()}async initChunkDecryption(t,e){return o(t,e)}async decryptFileChunk(t,e){return s(t,e)}async initChunkHashing(){return T()}async hashFileChunk(t,e){return g(t,e)}async completeChunkHashing(t){return S(t)}async deriveKey(t,e,a,r){return b(t,e,a,r)}async deriveSensitiveKey(t,e){return I(t,e)}async deriveInteractiveKey(t,e){return A(t,e)}async decryptB64(t,e,a){return d(t,e,a)}async decryptToUTF8(t,e,a){return m(t,e,a)}async encryptToB64(t,e){return h(t,e)}async generateKeyAndEncryptToB64(t){return f(t)}async encryptUTF8(t,e){return w(t,e)}async generateEncryptionKey(){return k()}async generateSaltToDeriveKey(){return v()}async generateKeyPair(){return N()}async boxSealOpen(t,e,a){return L(t,e,a)}async boxSeal(t,e){return M(t,e)}async generateSubKey(t,e,a,r){return O(t,e,a,r)}async fromUTF8(t){return D(t)}async toUTF8(t){return R(t)}async toB64(t){return G(t)}async toB64URLSafe(t){return C(t)}async fromB64(t){return F(t)}async toHex(t){return B(t)}async fromHex(t){return K(t)}}P.Jj(Y,self)},68236:function(){}},y={};function o(t){var e=y[t];if(void 0!==e)return e.exports;var a=y[t]={exports:{}},r=!0;try{i[t].call(a.exports,a,a.exports,o),r=!1}finally{r&&delete y[t]}return a.exports}o.m=i,o.x=function(){var t=o.O(void 0,[8934,9524,7518,3310,1314,4824],function(){return o(24514)});return o.O(t)},t=[],o.O=function(e,a,r,n){if(a){n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[a,r,n];return}for(var i=1/0,c=0;c<t.length;c++){for(var a=t[c][0],r=t[c][1],n=t[c][2],y=!0,s=0;s<a.length;s++)i>=n&&Object.keys(o.O).every(function(t){return o.O[t](a[s])})?a.splice(s--,1):(y=!1,n<i&&(i=n));if(y){t.splice(c--,1);var u=r();void 0!==u&&(e=u)}}return e},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,{a:e}),e},o.d=function(t,e){for(var a in e)o.o(e,a)&&!o.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},o.f={},o.e=function(t){return Promise.all(Object.keys(o.f).reduce(function(e,a){return o.f[a](t,e),e},[]))},o.u=function(t){return 1314===t?"static/chunks/1314.2b00ee3e31acbe09.js":4824===t?"static/chunks/4824.6be33bb6b335a0c5.js":"static/chunks/"+(({8934:"e893f787",9524:"084bda8b"})[t]||t)+"-"+({3310:"7776e9dcfaf78190",7518:"5849f11d1f9efd3a",8934:"1b490bfbb2ceee0e",9524:"77137cf61039078f"})[t]+".js"},o.miniCssF=function(t){},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.tt=function(){return void 0===e&&(e={createScriptURL:function(t){return t}},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(e=trustedTypes.createPolicy("nextjs#bundler",e))),e},o.tu=function(t){return o.tt().createScriptURL(t)},o.p="/_next/",a={7644:1},o.f.i=function(t,e){a[t]||importScripts(o.tu(o.p+o.u(t)))},n=(r=self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push.bind(r),r.push=function(t){var e=t[0],r=t[1],c=t[2];for(var i in r)o.o(r,i)&&(o.m[i]=r[i]);for(c&&c(o);e.length;)a[e.pop()]=1;n(t)},c=o.x,o.x=function(){return Promise.all([8934,9524,7518,3310,1314,4824].map(o.e,o)).then(c)},_N_E=o.x()}();